{"version":3,"sources":["../node_modules/object-keys/isArguments.js","../node_modules/object-keys/index.js","../node_modules/foreach/index.js","../node_modules/define-properties/index.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/has/src/index.js","../node_modules/es-to-primitive/helpers/isPrimitive.js","../node_modules/is-callable/index.js","../node_modules/is-date-object/index.js","../node_modules/is-symbol/index.js","../node_modules/es-to-primitive/es6.js","../node_modules/es-abstract/helpers/isNaN.js","../node_modules/es-abstract/helpers/isFinite.js","../node_modules/es-abstract/helpers/assign.js","../node_modules/es-abstract/helpers/sign.js","../node_modules/es-abstract/helpers/mod.js","../node_modules/es-abstract/helpers/isPrimitive.js","../node_modules/es-to-primitive/es5.js","../node_modules/es-abstract/es5.js","../node_modules/is-regex/index.js","../node_modules/es-abstract/es2015.js","../node_modules/es-abstract/es6.js","../node_modules/array.from/implementation.js","../node_modules/array.from/polyfill.js","../node_modules/array.from/shim.js","../node_modules/array.from/index.js","../node_modules/process/browser.js","../node_modules/xhook/dist/xhook.js","lib/config.js","lib/util.js","lib/slave.js","lib/socket.js","lib/master.js","lib/script.js","index.js","browser.js"],"names":["toStr","Object","prototype","toString","module","exports","isArguments","value","str","call","isArgs","length","callee","has","hasOwnProperty","slice","Array","require","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","constructor","excludedKeys","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","window","k","e","equalsConstructorPrototypeIfNotBuggy","keysShim","keys","object","isObject","isFunction","isString","theKeys","TypeError","skipProto","i","push","String","j","name","skipConstructor","shim","shimObjectKeys","keysWorksWithArguments","arguments","originalKeys","foreach","hasSymbols","Symbol","fn","arePropertyDescriptorsSupported","obj","defineProperty","enumerable","_","x","supportsDescriptors","predicate","configurable","writable","defineProperties","map","predicates","props","concat","getOwnPropertySymbols","bind","Function","isPrimitive","fnToStr","constructorRegex","isES6ClassFn","fnStr","singleStripped","replace","multiStripped","spaceStripped","test","tryFunctionObject","fnClass","genClass","hasToStringTag","toStringTag","isCallable","strClass","getDay","Date","tryDateObject","dateClass","isDateObject","symToStr","symStringRegex","isSymbolObject","valueOf","isSymbol","iterator","isDate","ordinaryToPrimitive","OrdinaryToPrimitive","O","hint","methodNames","method","result","GetMethod","P","func","ToPrimitive","input","PreferredType","Number","exoticToPrim","toPrimitive","isNaN","a","$isNaN","isFinite","Infinity","assign","target","source","key","sign","number","mod","modulo","remain","Math","floor","ES5internalSlots","actualHint","methods","$isFinite","IsCallable","ES5","ToBoolean","ToNumber","ToInteger","abs","ToInt32","ToUint32","ToUint16","posInt","ToString","ToObject","CheckObjectCoercible","optMessage","SameValue","y","Type","IsPropertyDescriptor","Desc","allowed","isData","IsAccessor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","get","set","ToPropertyDescriptor","Obj","desc","getter","setter","regexExec","RegExp","exec","gOPD","getOwnPropertyDescriptor","tryRegexExecCall","tryRegexExec","lastIndex","regexClass","isRegex","descriptor","hasLastIndexDataProperty","SymbolIterator","MAX_SAFE_INTEGER","pow","parseInteger","parseInt","arraySlice","strSlice","isBinary","isOctal","nonWS","join","nonWSregex","hasNonWS","invalidHexLiteral","isInvalidHexLiteral","ws","trimRegex","trim","hasRegExpMatcher","ES6","Call","F","V","args","apply","argument","NaN","trimmed","ToInt16","int16bit","ToInt8","int8bit","ToUint8","ToUint8Clamp","f","RequireObjectCoercible","ToPropertyKey","ToLength","len","CanonicalNumericIndexString","n","IsArray","isArray","IsConstructor","IsExtensible","preventExtensions","isExtensible","IsInteger","IsPropertyKey","IsRegExp","isRegExp","match","SameValueZero","GetV","Get","SpeciesConstructor","defaultConstructor","C","S","species","CompletePropertyDescriptor","Set","Throw","HasOwnProperty","HasProperty","IsConcatSpreadable","isConcatSpreadable","spreadable","Invoke","argumentsList","GetIterator","SyntaxError","actualMethod","IteratorNext","IteratorComplete","iterResult","IteratorValue","IteratorStep","done","IteratorClose","completion","completionThunk","iteratorReturn","completionRecord","innerResult","CreateIterResultObject","RegExpExec","R","ArraySpeciesCreate","originalArray","CreateDataProperty","oldDesc","extensible","immutable","newDesc","CreateDataPropertyOrThrow","success","AdvanceStringIndex","index","unicode","RangeError","first","charCodeAt","second","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","array","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","config","masters","slaves","debug","cookies","master","slave","xhook","COMPAT_VERSION","location","currentOrigin","protocol","host","origin","globalEmitter","EventEmitter","console","counter","guid","newLogger","msg","fire","type","alert","log","warn","instOf","global","parseUrl","url","$2","$1","path","$3","toRegExp","strip","dst","src","v","t","enabled","addMasters","parent","postMessage","handleSocket","socket","pathRegex","regex","masterRegex","error","req","p","close","xhr","XMLHttpRequest","open","addEventListener","upload","onreadystatechange","readyState","resp","status","statusText","data","response","headers","getAllResponseHeaders","text","responseText","error1","abort","withCredentials","slaveCookie","document","cookie","responseType","setRequestHeader","body","fd","FormData","entries","from","forEach","blob","Blob","append","send","id","CHECK_STRING","CHECK_INTERVAL","sockets","jsonEncode","createSocket","frame","ready","destroy","pendingEmits","extra","unshift","JSON","stringify","shift","checks","check","initialise","handle","d","split","parse","undefined","attachEvent","socketlib","addSlaves","addWithCredentials","before","beforeXHR","newSlaves","request","callback","async","getFrame","handleRequest","frames","proxyPath","createElement","setAttribute","appendChild","contentWindow","convertToArrayBuffer","isBlob","isFile","reader","FileReader","onload","readAsArrayBuffer","convertFormData","splice","file","c","newargs","dispatchEvent","attrs","s","m","getElementsByTagName","script","getAttribute","prefix","feature","getPolyfill","xdomain"],"mappings":"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AQoC,IAAR,GAAeP,IAAf;AACA7B,QAAQqC,eAAR,GAA0BR,IAA1B;AACA7B,QAAQsC,mBAAR,GAA8BT,IAA9B;;AAEA7B,QAAQuC,SAAR,GAAoB,UAAU1R,IAAV,EAAgB;AAAE,WAAO,EAAP;AAAW,CAAjD;;AAEAmP,QAAQwC,OAAR,GAAkB,UAAU3R,IAAV,EAAgB;AAC9B,UAAM,IAAIuP,KAAJ,CAAU,kCAAV,CAAN;AACH,CAFD;;AAIAJ,QAAQyC,GAAR,GAAc,YAAY;AAAE,WAAO,GAAP;AAAY,CAAxC;AACAzC,QAAQ0C,KAAR,GAAgB,UAAUC,GAAV,EAAe;AAC3B,UAAM,IAAIvC,KAAJ,CAAU,gCAAV,CAAN;AACH,CAFD;AAGAJ,QAAQ4C,KAAR,GAAgB,YAAW;AAAE,WAAO,CAAP;AAAW,CAAxC;;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"xdomain.map","sourcesContent":["'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) {\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\nvar keys = require('object-keys');\nvar foreach = require('foreach');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nvar toStr = Object.prototype.toString;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\tObject.defineProperty(obj, 'x', { enumerable: false, value: obj });\n        /* eslint-disable no-unused-vars, no-restricted-syntax */\n        for (var _ in obj) { return false; }\n        /* eslint-enable no-unused-vars, no-restricted-syntax */\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\tObject.defineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = props.concat(Object.getOwnPropertySymbols(map));\n\t}\n\tforeach(props, function (name) {\n\t\tdefineProperty(object, name, map[name], predicates[name]);\n\t});\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","var bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class /;\nvar isES6ClassFn = function isES6ClassFn(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\tvar singleStripped = fnStr.replace(/\\/\\/.*\\n/g, '');\n\t\tvar multiStripped = singleStripped.replace(/\\/\\*[.\\s\\S]*\\*\\//g, '');\n\t\tvar spaceStripped = multiStripped.replace(/\\n/mg, ' ').replace(/ {2}/g, ' ');\n\t\treturn constructorRegex.test(spaceStripped);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionObject(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') { return false; }\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') { return true; }\n\t\tif (toStr.call(value) !== '[object Symbol]') { return false; }\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false;\n\t};\n}\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (PreferredType === String) {\n\t\t\thint = 'string';\n\t\t} else if (PreferredType === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","module.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","var $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","var has = Object.prototype.hasOwnProperty;\nmodule.exports = function assign(target, source) {\n\tif (Object.assign) {\n\t\treturn Object.assign(target, source);\n\t}\n\tfor (var key in source) {\n\t\tif (has.call(source, key)) {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n};\n","module.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","module.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// https://es5.github.io/#x8.12\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O, hint) {\n\t\tvar actualHint = hint || (toStr.call(O) === '[object Date]' ? String : Number);\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// https://es5.github.io/#x9\nmodule.exports = function ToPrimitive(input, PreferredType) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input, PreferredType);\n};\n","'use strict';\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn Number(value);\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\tif (this.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\t\t// jscs:disable\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t// jscs:enable\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar has = require('has');\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n","'use strict';\n\nvar has = require('has');\nvar toPrimitive = require('es-to-primitive/es6');\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\nvar SymbolIterator = hasSymbols ? Symbol.iterator : null;\n\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1;\n\nvar assign = require('./helpers/assign');\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\nvar isPrimitive = require('./helpers/isPrimitive');\nvar parseInteger = parseInt;\nvar bind = require('function-bind');\nvar arraySlice = bind.call(Function.call, Array.prototype.slice);\nvar strSlice = bind.call(Function.call, String.prototype.slice);\nvar isBinary = bind.call(Function.call, RegExp.prototype.test, /^0b[01]+$/i);\nvar isOctal = bind.call(Function.call, RegExp.prototype.test, /^0o[0-7]+$/i);\nvar regexExec = bind.call(Function.call, RegExp.prototype.exec);\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = bind.call(Function.call, RegExp.prototype.test, nonWSregex);\nvar invalidHexLiteral = /^[-+]0x[0-9a-f]+$/i;\nvar isInvalidHexLiteral = bind.call(Function.call, RegExp.prototype.test, invalidHexLiteral);\n\n// whitespace from: http://es5.github.io/#x15.5.4.20\n// implementation from https://github.com/es-shims/es5-shim/blob/v3.4.0/es5-shim.js#L1304-L1324\nvar ws = [\n\t'\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003',\n\t'\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028',\n\t'\\u2029\\uFEFF'\n].join('');\nvar trimRegex = new RegExp('(^[' + ws + ']+)|([' + ws + ']+$)', 'g');\nvar replace = bind.call(Function.call, String.prototype.replace);\nvar trim = function (value) {\n\treturn replace(value, trimRegex, '');\n};\n\nvar ES5 = require('./es5');\n\nvar hasRegExpMatcher = require('is-regex');\n\n// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-abstract-operations\nvar ES6 = assign(assign({}, ES5), {\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-call-f-v-args\n\tCall: function Call(F, V) {\n\t\tvar args = arguments.length > 2 ? arguments[2] : [];\n\t\tif (!this.IsCallable(F)) {\n\t\t\tthrow new TypeError(F + ' is not a function');\n\t\t}\n\t\treturn F.apply(V, args);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toprimitive\n\tToPrimitive: toPrimitive,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toboolean\n\t// ToBoolean: ES5.ToBoolean,\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-tonumber\n\tToNumber: function ToNumber(argument) {\n\t\tvar value = isPrimitive(argument) ? argument : toPrimitive(argument, Number);\n\t\tif (typeof value === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a number');\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tif (isBinary(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 2));\n\t\t\t} else if (isOctal(value)) {\n\t\t\t\treturn this.ToNumber(parseInteger(strSlice(value, 2), 8));\n\t\t\t} else if (hasNonWS(value) || isInvalidHexLiteral(value)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar trimmed = trim(value);\n\t\t\t\tif (trimmed !== value) {\n\t\t\t\t\treturn this.ToNumber(trimmed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Number(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tointeger\n\t// ToInteger: ES5.ToNumber,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint32\n\t// ToInt32: ES5.ToInt32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint32\n\t// ToUint32: ES5.ToUint32,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint16\n\tToInt16: function ToInt16(argument) {\n\t\tvar int16bit = this.ToUint16(argument);\n\t\treturn int16bit >= 0x8000 ? int16bit - 0x10000 : int16bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint16\n\t// ToUint16: ES5.ToUint16,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toint8\n\tToInt8: function ToInt8(argument) {\n\t\tvar int8bit = this.ToUint8(argument);\n\t\treturn int8bit >= 0x80 ? int8bit - 0x100 : int8bit;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8\n\tToUint8: function ToUint8(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x100);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-touint8clamp\n\tToUint8Clamp: function ToUint8Clamp(argument) {\n\t\tvar number = this.ToNumber(argument);\n\t\tif ($isNaN(number) || number <= 0) { return 0; }\n\t\tif (number >= 0xFF) { return 0xFF; }\n\t\tvar f = Math.floor(argument);\n\t\tif (f + 0.5 < number) { return f + 1; }\n\t\tif (number < f + 0.5) { return f; }\n\t\tif (f % 2 !== 0) { return f + 1; }\n\t\treturn f;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tostring\n\tToString: function ToString(argument) {\n\t\tif (typeof argument === 'symbol') {\n\t\t\tthrow new TypeError('Cannot convert a Symbol value to a string');\n\t\t}\n\t\treturn String(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject\n\tToObject: function ToObject(value) {\n\t\tthis.RequireObjectCoercible(value);\n\t\treturn Object(value);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-topropertykey\n\tToPropertyKey: function ToPropertyKey(argument) {\n\t\tvar key = this.ToPrimitive(argument, String);\n\t\treturn typeof key === 'symbol' ? key : this.ToString(key);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\tToLength: function ToLength(argument) {\n\t\tvar len = this.ToInteger(argument);\n\t\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\t\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\t\treturn len;\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-canonicalnumericindexstring\n\tCanonicalNumericIndexString: function CanonicalNumericIndexString(argument) {\n\t\tif (toStr.call(argument) !== '[object String]') {\n\t\t\tthrow new TypeError('must be a string');\n\t\t}\n\t\tif (argument === '-0') { return -0; }\n\t\tvar n = this.ToNumber(argument);\n\t\tif (this.SameValue(this.ToString(n), argument)) { return n; }\n\t\treturn void 0;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-requireobjectcoercible\n\tRequireObjectCoercible: ES5.CheckObjectCoercible,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isarray\n\tIsArray: Array.isArray || function IsArray(argument) {\n\t\treturn toStr.call(argument) === '[object Array]';\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-iscallable\n\t// IsCallable: ES5.IsCallable,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isconstructor\n\tIsConstructor: function IsConstructor(argument) {\n\t\treturn typeof argument === 'function' && !!argument.prototype; // unfortunately there's no way to truly check this without try/catch `new argument`\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isextensible-o\n\tIsExtensible: function IsExtensible(obj) {\n\t\tif (!Object.preventExtensions) { return true; }\n\t\tif (isPrimitive(obj)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn Object.isExtensible(obj);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-isinteger\n\tIsInteger: function IsInteger(argument) {\n\t\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar abs = Math.abs(argument);\n\t\treturn Math.floor(abs) === abs;\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ispropertykey\n\tIsPropertyKey: function IsPropertyKey(argument) {\n\t\treturn typeof argument === 'string' || typeof argument === 'symbol';\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-isregexp\n\tIsRegExp: function IsRegExp(argument) {\n\t\tif (!argument || typeof argument !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols) {\n\t\t\tvar isRegExp = argument[Symbol.match];\n\t\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\t\treturn ES5.ToBoolean(isRegExp);\n\t\t\t}\n\t\t}\n\t\treturn hasRegExpMatcher(argument);\n\t},\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevalue\n\t// SameValue: ES5.SameValue,\n\n\t// https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero\n\tSameValueZero: function SameValueZero(x, y) {\n\t\treturn (x === y) || ($isNaN(x) && $isNaN(y));\n\t},\n\n\t/**\n\t * 7.3.2 GetV (V, P)\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let O be ToObject(V).\n\t * 3. ReturnIfAbrupt(O).\n\t * 4. Return O.[[Get]](P, V).\n\t */\n\tGetV: function GetV(V, P) {\n\t\t// 7.3.2.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.2.2-3\n\t\tvar O = this.ToObject(V);\n\n\t\t// 7.3.2.4\n\t\treturn O[P];\n\t},\n\n\t/**\n\t * 7.3.9 - http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod\n\t * 1. Assert: IsPropertyKey(P) is true.\n\t * 2. Let func be GetV(O, P).\n\t * 3. ReturnIfAbrupt(func).\n\t * 4. If func is either undefined or null, return undefined.\n\t * 5. If IsCallable(func) is false, throw a TypeError exception.\n\t * 6. Return func.\n\t */\n\tGetMethod: function GetMethod(O, P) {\n\t\t// 7.3.9.1\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\n\t\t// 7.3.9.2\n\t\tvar func = this.GetV(O, P);\n\n\t\t// 7.3.9.4\n\t\tif (func == null) {\n\t\t\treturn void 0;\n\t\t}\n\n\t\t// 7.3.9.5\n\t\tif (!this.IsCallable(func)) {\n\t\t\tthrow new TypeError(P + 'is not a function');\n\t\t}\n\n\t\t// 7.3.9.6\n\t\treturn func;\n\t},\n\n\t/**\n\t * 7.3.1 Get (O, P) - http://www.ecma-international.org/ecma-262/6.0/#sec-get-o-p\n\t * 1. Assert: Type(O) is Object.\n\t * 2. Assert: IsPropertyKey(P) is true.\n\t * 3. Return O.[[Get]](P, O).\n\t */\n\tGet: function Get(O, P) {\n\t\t// 7.3.1.1\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\t// 7.3.1.2\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\t// 7.3.1.3\n\t\treturn O[P];\n\t},\n\n\tType: function Type(x) {\n\t\tif (typeof x === 'symbol') {\n\t\t\treturn 'Symbol';\n\t\t}\n\t\treturn ES5.Type(x);\n\t},\n\n\t// http://www.ecma-international.org/ecma-262/6.0/#sec-speciesconstructor\n\tSpeciesConstructor: function SpeciesConstructor(O, defaultConstructor) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tvar C = O.constructor;\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.Type(C) !== 'Object') {\n\t\t\tthrow new TypeError('O.constructor is not an Object');\n\t\t}\n\t\tvar S = hasSymbols && Symbol.species ? C[Symbol.species] : void 0;\n\t\tif (S == null) {\n\t\t\treturn defaultConstructor;\n\t\t}\n\t\tif (this.IsConstructor(S)) {\n\t\t\treturn S;\n\t\t}\n\t\tthrow new TypeError('no constructor found');\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-completepropertydescriptor\n\tCompletePropertyDescriptor: function CompletePropertyDescriptor(Desc) {\n\t\tif (!this.IsPropertyDescriptor(Desc)) {\n\t\t\tthrow new TypeError('Desc must be a Property Descriptor');\n\t\t}\n\n\t\tif (this.IsGenericDescriptor(Desc) || this.IsDataDescriptor(Desc)) {\n\t\t\tif (!has(Desc, '[[Value]]')) {\n\t\t\t\tDesc['[[Value]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Writable]]')) {\n\t\t\t\tDesc['[[Writable]]'] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (!has(Desc, '[[Get]]')) {\n\t\t\t\tDesc['[[Get]]'] = void 0;\n\t\t\t}\n\t\t\tif (!has(Desc, '[[Set]]')) {\n\t\t\t\tDesc['[[Set]]'] = void 0;\n\t\t\t}\n\t\t}\n\t\tif (!has(Desc, '[[Enumerable]]')) {\n\t\t\tDesc['[[Enumerable]]'] = false;\n\t\t}\n\t\tif (!has(Desc, '[[Configurable]]')) {\n\t\t\tDesc['[[Configurable]]'] = false;\n\t\t}\n\t\treturn Desc;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-set-o-p-v-throw\n\tSet: function Set(O, P, V, Throw) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tif (this.Type(Throw) !== 'Boolean') {\n\t\t\tthrow new TypeError('Throw must be a Boolean');\n\t\t}\n\t\tif (Throw) {\n\t\t\tO[P] = V;\n\t\t\treturn true;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tO[P] = V;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasownproperty\n\tHasOwnProperty: function HasOwnProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn has(O, P);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-hasproperty\n\tHasProperty: function HasProperty(O, P) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('O must be an Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\treturn P in O;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-isconcatspreadable\n\tIsConcatSpreadable: function IsConcatSpreadable(O) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (hasSymbols && typeof Symbol.isConcatSpreadable === 'symbol') {\n\t\t\tvar spreadable = this.Get(O, Symbol.isConcatSpreadable);\n\t\t\tif (typeof spreadable !== 'undefined') {\n\t\t\t\treturn this.ToBoolean(spreadable);\n\t\t\t}\n\t\t}\n\t\treturn this.IsArray(O);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-invoke\n\tInvoke: function Invoke(O, P) {\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('P must be a Property Key');\n\t\t}\n\t\tvar argumentsList = arraySlice(arguments, 2);\n\t\tvar func = this.GetV(O, P);\n\t\treturn this.Call(func, O, argumentsList);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-getiterator\n\tGetIterator: function GetIterator(obj, method) {\n\t\tif (!hasSymbols) {\n\t\t\tthrow new SyntaxError('ES.GetIterator depends on native iterator support.');\n\t\t}\n\n\t\tvar actualMethod = method;\n\t\tif (arguments.length < 2) {\n\t\t\tactualMethod = this.GetMethod(obj, SymbolIterator);\n\t\t}\n\t\tvar iterator = this.Call(actualMethod, obj);\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new TypeError('iterator must return an object');\n\t\t}\n\n\t\treturn iterator;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-iteratornext\n\tIteratorNext: function IteratorNext(iterator, value) {\n\t\tvar result = this.Invoke(iterator, 'next', arguments.length < 2 ? [] : [value]);\n\t\tif (this.Type(result) !== 'Object') {\n\t\t\tthrow new TypeError('iterator next must return an object');\n\t\t}\n\t\treturn result;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-iteratorcomplete\n\tIteratorComplete: function IteratorComplete(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.ToBoolean(this.Get(iterResult, 'done'));\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-iteratorvalue\n\tIteratorValue: function IteratorValue(iterResult) {\n\t\tif (this.Type(iterResult) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(iterResult) is not Object');\n\t\t}\n\t\treturn this.Get(iterResult, 'value');\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-iteratorstep\n\tIteratorStep: function IteratorStep(iterator) {\n\t\tvar result = this.IteratorNext(iterator);\n\t\tvar done = this.IteratorComplete(result);\n\t\treturn done === true ? false : result;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-iteratorclose\n\tIteratorClose: function IteratorClose(iterator, completion) {\n\t\tif (this.Type(iterator) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(iterator) is not Object');\n\t\t}\n\t\tif (!this.IsCallable(completion)) {\n\t\t\tthrow new TypeError('Assertion failed: completion is not a thunk for a Completion Record');\n\t\t}\n\t\tvar completionThunk = completion;\n\n\t\tvar iteratorReturn = this.GetMethod(iterator, 'return');\n\n\t\tif (typeof iteratorReturn === 'undefined') {\n\t\t\treturn completionThunk();\n\t\t}\n\n\t\tvar completionRecord;\n\t\ttry {\n\t\t\tvar innerResult = this.Call(iteratorReturn, iterator, []);\n\t\t} catch (e) {\n\t\t\t// if we hit here, then \"e\" is the innerResult completion that needs re-throwing\n\n\t\t\t// if the completion is of type \"throw\", this will throw.\n\t\t\tcompletionRecord = completionThunk();\n\t\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\t\t// if not, then return the innerResult completion\n\t\t\tthrow e;\n\t\t}\n\t\tcompletionRecord = completionThunk(); // if innerResult worked, then throw if the completion does\n\t\tcompletionThunk = null; // ensure it's not called twice.\n\n\t\tif (this.Type(innerResult) !== 'Object') {\n\t\t\tthrow new TypeError('iterator .return must return an object');\n\t\t}\n\n\t\treturn completionRecord;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-createiterresultobject\n\tCreateIterResultObject: function CreateIterResultObject(value, done) {\n\t\tif (this.Type(done) !== 'Boolean') {\n\t\t\tthrow new TypeError('Assertion failed: Type(done) is not Boolean');\n\t\t}\n\t\treturn {\n\t\t\tvalue: value,\n\t\t\tdone: done\n\t\t};\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-regexpexec\n\tRegExpExec: function RegExpExec(R, S) {\n\t\tif (this.Type(R) !== 'Object') {\n\t\t\tthrow new TypeError('R must be an Object');\n\t\t}\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new TypeError('S must be a String');\n\t\t}\n\t\tvar exec = this.Get(R, 'exec');\n\t\tif (this.IsCallable(exec)) {\n\t\t\tvar result = this.Call(exec, R, [S]);\n\t\t\tif (result === null || this.Type(result) === 'Object') {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tthrow new TypeError('\"exec\" method must return `null` or an Object');\n\t\t}\n\t\treturn regexExec(R, S);\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-arrayspeciescreate\n\tArraySpeciesCreate: function ArraySpeciesCreate(originalArray, length) {\n\t\tif (!this.IsInteger(length) || length < 0) {\n\t\t\tthrow new TypeError('Assertion failed: length must be an integer >= 0');\n\t\t}\n\t\tvar len = length === 0 ? 0 : length;\n\t\tvar C;\n\t\tvar isArray = this.IsArray(originalArray);\n\t\tif (isArray) {\n\t\t\tC = this.Get(originalArray, 'constructor');\n\t\t\t// TODO: figure out how to make a cross-realm normal Array, a same-realm Array\n\t\t\t// if (this.IsConstructor(C)) {\n\t\t\t// \tif C is another realm's Array, C = undefined\n\t\t\t// \tObject.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(Array))) === null ?\n\t\t\t// }\n\t\t\tif (this.Type(C) === 'Object' && hasSymbols && Symbol.species) {\n\t\t\t\tC = this.Get(C, Symbol.species);\n\t\t\t\tif (C === null) {\n\t\t\t\t\tC = void 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (typeof C === 'undefined') {\n\t\t\treturn Array(len);\n\t\t}\n\t\tif (!this.IsConstructor(C)) {\n\t\t\tthrow new TypeError('C must be a constructor');\n\t\t}\n\t\treturn new C(len); // this.Construct(C, len);\n\t},\n\n\tCreateDataProperty: function CreateDataProperty(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar oldDesc = Object.getOwnPropertyDescriptor(O, P);\n\t\tvar extensible = oldDesc || (typeof Object.isExtensible !== 'function' || Object.isExtensible(O));\n\t\tvar immutable = oldDesc && (!oldDesc.writable || !oldDesc.configurable);\n\t\tif (immutable || !extensible) {\n\t\t\treturn false;\n\t\t}\n\t\tvar newDesc = {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: V,\n\t\t\twritable: true\n\t\t};\n\t\tObject.defineProperty(O, P, newDesc);\n\t\treturn true;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-createdatapropertyorthrow\n\tCreateDataPropertyOrThrow: function CreateDataPropertyOrThrow(O, P, V) {\n\t\tif (this.Type(O) !== 'Object') {\n\t\t\tthrow new TypeError('Assertion failed: Type(O) is not Object');\n\t\t}\n\t\tif (!this.IsPropertyKey(P)) {\n\t\t\tthrow new TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t\t}\n\t\tvar success = this.CreateDataProperty(O, P, V);\n\t\tif (!success) {\n\t\t\tthrow new TypeError('unable to create data property');\n\t\t}\n\t\treturn success;\n\t},\n\n\t// http://ecma-international.org/ecma-262/6.0/#sec-advancestringindex\n\tAdvanceStringIndex: function AdvanceStringIndex(S, index, unicode) {\n\t\tif (this.Type(S) !== 'String') {\n\t\t\tthrow new TypeError('Assertion failed: Type(S) is not String');\n\t\t}\n\t\tif (!this.IsInteger(index)) {\n\t\t\tthrow new TypeError('Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)');\n\t\t}\n\t\tif (index < 0 || index > MAX_SAFE_INTEGER) {\n\t\t\tthrow new RangeError('Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)');\n\t\t}\n\t\tif (this.Type(unicode) !== 'Boolean') {\n\t\t\tthrow new TypeError('Assertion failed: Type(unicode) is not Boolean');\n\t\t}\n\t\tif (!unicode) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar first = S.charCodeAt(index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\t\tvar second = S.charCodeAt(index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\t\treturn index + 2;\n\t}\n});\n\ndelete ES6.CheckObjectCoercible; // renamed in ES6 to RequireObjectCoercible\n\nmodule.exports = ES6;\n","'use strict';\n\nmodule.exports = require('./es2015');\n","'use strict';\nvar ES = require('es-abstract/es6');\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\n\n/*! https://mths.be/array-from v0.2.0 by @mathias */\nmodule.exports = function from(arrayLike) {\n\tvar defineProperty = supportsDescriptors ? Object.defineProperty : function put(object, key, descriptor) {\n\t\tobject[key] = descriptor.value;\n\t};\n\tvar C = this;\n\tif (arrayLike === null || typeof arrayLike === 'undefined') {\n\t\tthrow new TypeError('`Array.from` requires an array-like object, not `null` or `undefined`');\n\t}\n\tvar items = ES.ToObject(arrayLike);\n\n\tvar mapFn, T;\n\tif (typeof arguments[1] !== 'undefined') {\n\t\tmapFn = arguments[1];\n\t\tif (!ES.IsCallable(mapFn)) {\n\t\t\tthrow new TypeError('When provided, the second argument to `Array.from` must be a function');\n\t\t}\n\t\tif (arguments.length > 2) {\n\t\t\tT = arguments[2];\n\t\t}\n\t}\n\n\tvar len = ES.ToLength(items.length);\n\tvar A = ES.IsCallable(C) ? ES.ToObject(new C(len)) : new Array(len);\n\tvar k = 0;\n\tvar kValue, mappedValue;\n\twhile (k < len) {\n\t\tkValue = items[k];\n\t\tif (mapFn) {\n\t\t\tmappedValue = typeof T === 'undefined' ? mapFn(kValue, k) : ES.Call(mapFn, T, [kValue, k]);\n\t\t} else {\n\t\t\tmappedValue = kValue;\n\t\t}\n\t\tdefineProperty(A, k, {\n\t\t\t'configurable': true,\n\t\t\t'enumerable': true,\n\t\t\t'value': mappedValue,\n\t\t\t'writable': true\n\t\t});\n\t\tk += 1;\n\t}\n\tA.length = len;\n\treturn A;\n};\n","'use strict';\n\nvar ES = require('es-abstract/es6');\nvar implementation = require('./implementation');\n\nvar tryCall = function (fn) {\n\ttry {\n\t\tfn();\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nmodule.exports = function getPolyfill() {\n\tvar implemented = ES.IsCallable(Array.from)\n\t\t&& tryCall(function () { Array.from({ 'length': -Infinity }); })\n\t\t&& !tryCall(function () { Array.from([], undefined); });\n\n\treturn implemented ? Array.from : implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimArrayFrom() {\n\tvar polyfill = getPolyfill();\n\n\tdefine(Array, { 'from': polyfill }, {\n\t\t'from': function () {\n\t\t\treturn Array.from !== polyfill;\n\t\t}\n\t});\n\n\treturn polyfill;\n};\n","'use strict';\n\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\n// eslint-disable-next-line no-unused-vars\nvar boundFromShim = function from(array) {\n    // eslint-disable-next-line no-invalid-this\n\treturn implementation.apply(this || Array, arguments);\n};\n\ndefine(boundFromShim, {\n\t'getPolyfill': getPolyfill,\n\t'implementation': implementation,\n\t'shim': shim\n});\n\nmodule.exports = boundFromShim;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// XHook - v1.4.9 - https://github.com/jpillora/xhook\n// Jaime Pillora <dev@jpillora.com> - MIT Copyright 2018\n(function(undefined) {\nvar AFTER, BEFORE, COMMON_EVENTS, EventEmitter, FETCH, FIRE, FormData, NativeFetch, NativeFormData, NativeXMLHttp, OFF, ON, READY_STATE, UPLOAD_EVENTS, WINDOW, XHookFetchRequest, XHookFormData, XHookHttpRequest, XMLHTTP, convertHeaders, depricatedProp, document, fakeEvent, mergeObjects, msie, nullify, proxyEvents, slice, useragent, xhook, _base,\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nWINDOW = null;\n\nif (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope) {\n  WINDOW = self;\n} else if (typeof global !== 'undefined') {\n  WINDOW = global;\n} else {\n  WINDOW = window;\n}\n\ndocument = WINDOW.document;\n\nBEFORE = 'before';\n\nAFTER = 'after';\n\nREADY_STATE = 'readyState';\n\nON = 'addEventListener';\n\nOFF = 'removeEventListener';\n\nFIRE = 'dispatchEvent';\n\nXMLHTTP = 'XMLHttpRequest';\n\nFETCH = 'fetch';\n\nFormData = 'FormData';\n\nUPLOAD_EVENTS = ['load', 'loadend', 'loadstart'];\n\nCOMMON_EVENTS = ['progress', 'abort', 'error', 'timeout'];\n\nuseragent = typeof navigator !== 'undefined' && navigator['useragent'] ? navigator.userAgent : '';\n\nmsie = parseInt((/msie (\\d+)/.exec(useragent.toLowerCase()) || [])[1]);\n\nif (isNaN(msie)) {\n  msie = parseInt((/trident\\/.*; rv:(\\d+)/.exec(useragent.toLowerCase()) || [])[1]);\n}\n\n(_base = Array.prototype).indexOf || (_base.indexOf = function(item) {\n  var i, x, _i, _len;\n  for (i = _i = 0, _len = this.length; _i < _len; i = ++_i) {\n    x = this[i];\n    if (x === item) {\n      return i;\n    }\n  }\n  return -1;\n});\n\nslice = function(o, n) {\n  return Array.prototype.slice.call(o, n);\n};\n\ndepricatedProp = function(p) {\n  return p === \"returnValue\" || p === \"totalSize\" || p === \"position\";\n};\n\nmergeObjects = function(src, dst) {\n  var k, v;\n  for (k in src) {\n    v = src[k];\n    if (depricatedProp(k)) {\n      continue;\n    }\n    try {\n      dst[k] = src[k];\n    } catch (_error) {}\n  }\n  return dst;\n};\n\nnullify = function(res) {\n  if (res === void 0) {\n    return null;\n  }\n  return res;\n};\n\nproxyEvents = function(events, src, dst) {\n  var event, p, _i, _len;\n  p = function(event) {\n    return function(e) {\n      var clone, k, val;\n      clone = {};\n      for (k in e) {\n        if (depricatedProp(k)) {\n          continue;\n        }\n        val = e[k];\n        clone[k] = val === src ? dst : val;\n      }\n      return dst[FIRE](event, clone);\n    };\n  };\n  for (_i = 0, _len = events.length; _i < _len; _i++) {\n    event = events[_i];\n    if (dst._has(event)) {\n      src[\"on\" + event] = p(event);\n    }\n  }\n};\n\nfakeEvent = function(type) {\n  var msieEventObject;\n  if (document && (document.createEventObject != null)) {\n    msieEventObject = document.createEventObject();\n    msieEventObject.type = type;\n    return msieEventObject;\n  } else {\n    try {\n      return new Event(type);\n    } catch (_error) {\n      return {\n        type: type\n      };\n    }\n  }\n};\n\nEventEmitter = function(nodeStyle) {\n  var emitter, events, listeners;\n  events = {};\n  listeners = function(event) {\n    return events[event] || [];\n  };\n  emitter = {};\n  emitter[ON] = function(event, callback, i) {\n    events[event] = listeners(event);\n    if (events[event].indexOf(callback) >= 0) {\n      return;\n    }\n    i = i === undefined ? events[event].length : i;\n    events[event].splice(i, 0, callback);\n  };\n  emitter[OFF] = function(event, callback) {\n    var i;\n    if (event === undefined) {\n      events = {};\n      return;\n    }\n    if (callback === undefined) {\n      events[event] = [];\n    }\n    i = listeners(event).indexOf(callback);\n    if (i === -1) {\n      return;\n    }\n    listeners(event).splice(i, 1);\n  };\n  emitter[FIRE] = function() {\n    var args, event, i, legacylistener, listener, _i, _len, _ref;\n    args = slice(arguments);\n    event = args.shift();\n    if (!nodeStyle) {\n      args[0] = mergeObjects(args[0], fakeEvent(event));\n    }\n    legacylistener = emitter[\"on\" + event];\n    if (legacylistener) {\n      legacylistener.apply(emitter, args);\n    }\n    _ref = listeners(event).concat(listeners(\"*\"));\n    for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n      listener = _ref[i];\n      listener.apply(emitter, args);\n    }\n  };\n  emitter._has = function(event) {\n    return !!(events[event] || emitter[\"on\" + event]);\n  };\n  if (nodeStyle) {\n    emitter.listeners = function(event) {\n      return slice(listeners(event));\n    };\n    emitter.on = emitter[ON];\n    emitter.off = emitter[OFF];\n    emitter.fire = emitter[FIRE];\n    emitter.once = function(e, fn) {\n      var fire;\n      fire = function() {\n        emitter.off(e, fire);\n        return fn.apply(null, arguments);\n      };\n      return emitter.on(e, fire);\n    };\n    emitter.destroy = function() {\n      return events = {};\n    };\n  }\n  return emitter;\n};\n\nxhook = EventEmitter(true);\n\nxhook.EventEmitter = EventEmitter;\n\nxhook[BEFORE] = function(handler, i) {\n  if (handler.length < 1 || handler.length > 2) {\n    throw \"invalid hook\";\n  }\n  return xhook[ON](BEFORE, handler, i);\n};\n\nxhook[AFTER] = function(handler, i) {\n  if (handler.length < 2 || handler.length > 3) {\n    throw \"invalid hook\";\n  }\n  return xhook[ON](AFTER, handler, i);\n};\n\nxhook.enable = function() {\n  WINDOW[XMLHTTP] = XHookHttpRequest;\n  if (typeof XHookFetchRequest === \"function\") {\n    WINDOW[FETCH] = XHookFetchRequest;\n  }\n  if (NativeFormData) {\n    WINDOW[FormData] = XHookFormData;\n  }\n};\n\nxhook.disable = function() {\n  WINDOW[XMLHTTP] = xhook[XMLHTTP];\n  WINDOW[FETCH] = xhook[FETCH];\n  if (NativeFormData) {\n    WINDOW[FormData] = NativeFormData;\n  }\n};\n\nconvertHeaders = xhook.headers = function(h, dest) {\n  var header, headers, k, name, v, value, _i, _len, _ref;\n  if (dest == null) {\n    dest = {};\n  }\n  switch (typeof h) {\n    case \"object\":\n      headers = [];\n      for (k in h) {\n        v = h[k];\n        name = k.toLowerCase();\n        headers.push(\"\" + name + \":\\t\" + v);\n      }\n      return headers.join('\\n') + '\\n';\n    case \"string\":\n      headers = h.split('\\n');\n      for (_i = 0, _len = headers.length; _i < _len; _i++) {\n        header = headers[_i];\n        if (/([^:]+):\\s*(.+)/.test(header)) {\n          name = (_ref = RegExp.$1) != null ? _ref.toLowerCase() : void 0;\n          value = RegExp.$2;\n          if (dest[name] == null) {\n            dest[name] = value;\n          }\n        }\n      }\n      return dest;\n  }\n};\n\nNativeFormData = WINDOW[FormData];\n\nXHookFormData = function(form) {\n  var entries;\n  this.fd = form ? new NativeFormData(form) : new NativeFormData();\n  this.form = form;\n  entries = [];\n  Object.defineProperty(this, 'entries', {\n    get: function() {\n      var fentries;\n      fentries = !form ? [] : slice(form.querySelectorAll(\"input,select\")).filter(function(e) {\n        var _ref;\n        return ((_ref = e.type) !== 'checkbox' && _ref !== 'radio') || e.checked;\n      }).map(function(e) {\n        return [e.name, e.type === \"file\" ? e.files : e.value];\n      });\n      return fentries.concat(entries);\n    }\n  });\n  this.append = (function(_this) {\n    return function() {\n      var args;\n      args = slice(arguments);\n      entries.push(args);\n      return _this.fd.append.apply(_this.fd, args);\n    };\n  })(this);\n};\n\nif (NativeFormData) {\n  xhook[FormData] = NativeFormData;\n  WINDOW[FormData] = XHookFormData;\n}\n\nNativeXMLHttp = WINDOW[XMLHTTP];\n\nxhook[XMLHTTP] = NativeXMLHttp;\n\nXHookHttpRequest = WINDOW[XMLHTTP] = function() {\n  var ABORTED, currentState, emitFinal, emitReadyState, event, facade, hasError, hasErrorHandler, readBody, readHead, request, response, setReadyState, status, transiting, writeBody, writeHead, xhr, _i, _len, _ref;\n  ABORTED = -1;\n  xhr = new xhook[XMLHTTP]();\n  request = {};\n  status = null;\n  hasError = void 0;\n  transiting = void 0;\n  response = void 0;\n  readHead = function() {\n    var key, name, val, _ref;\n    response.status = status || xhr.status;\n    if (!(status === ABORTED && msie < 10)) {\n      response.statusText = xhr.statusText;\n    }\n    if (status !== ABORTED) {\n      _ref = convertHeaders(xhr.getAllResponseHeaders());\n      for (key in _ref) {\n        val = _ref[key];\n        if (!response.headers[key]) {\n          name = key.toLowerCase();\n          response.headers[name] = val;\n        }\n      }\n    }\n  };\n  readBody = function() {\n    if (!xhr.responseType || xhr.responseType === \"text\") {\n      response.text = xhr.responseText;\n      response.data = xhr.responseText;\n      try {\n        response.xml = xhr.responseXML;\n      } catch (_error) {\n\n      }\n    } else if (xhr.responseType === \"document\") {\n      response.xml = xhr.responseXML;\n      response.data = xhr.responseXML;\n    } else {\n      response.data = xhr.response;\n    }\n    if (\"responseURL\" in xhr) {\n      response.finalUrl = xhr.responseURL;\n    }\n  };\n  writeHead = function() {\n    facade.status = response.status;\n    facade.statusText = response.statusText;\n  };\n  writeBody = function() {\n    if ('text' in response) {\n      facade.responseText = response.text;\n    }\n    if ('xml' in response) {\n      facade.responseXML = response.xml;\n    }\n    if ('data' in response) {\n      facade.response = response.data;\n    }\n    if ('finalUrl' in response) {\n      facade.responseURL = response.finalUrl;\n    }\n  };\n  emitReadyState = function(n) {\n    while (n > currentState && currentState < 4) {\n      facade[READY_STATE] = ++currentState;\n      if (currentState === 1) {\n        facade[FIRE](\"loadstart\", {});\n      }\n      if (currentState === 2) {\n        writeHead();\n      }\n      if (currentState === 4) {\n        writeHead();\n        writeBody();\n      }\n      facade[FIRE](\"readystatechange\", {});\n      if (currentState === 4) {\n        if (request.async === false) {\n          emitFinal();\n        } else {\n          setTimeout(emitFinal, 0);\n        }\n      }\n    }\n  };\n  emitFinal = function() {\n    if (!hasError) {\n      facade[FIRE](\"load\", {});\n    }\n    facade[FIRE](\"loadend\", {});\n    if (hasError) {\n      facade[READY_STATE] = 0;\n    }\n  };\n  currentState = 0;\n  setReadyState = function(n) {\n    var hooks, process;\n    if (n !== 4) {\n      emitReadyState(n);\n      return;\n    }\n    hooks = xhook.listeners(AFTER);\n    process = function() {\n      var hook;\n      if (!hooks.length) {\n        return emitReadyState(4);\n      }\n      hook = hooks.shift();\n      if (hook.length === 2) {\n        hook(request, response);\n        return process();\n      } else if (hook.length === 3 && request.async) {\n        return hook(request, response, process);\n      } else {\n        return process();\n      }\n    };\n    process();\n  };\n  facade = request.xhr = EventEmitter();\n  xhr.onreadystatechange = function(event) {\n    try {\n      if (xhr[READY_STATE] === 2) {\n        readHead();\n      }\n    } catch (_error) {}\n    if (xhr[READY_STATE] === 4) {\n      transiting = false;\n      readHead();\n      readBody();\n    }\n    setReadyState(xhr[READY_STATE]);\n  };\n  hasErrorHandler = function() {\n    hasError = true;\n  };\n  facade[ON]('error', hasErrorHandler);\n  facade[ON]('timeout', hasErrorHandler);\n  facade[ON]('abort', hasErrorHandler);\n  facade[ON]('progress', function() {\n    if (currentState < 3) {\n      setReadyState(3);\n    } else {\n      facade[FIRE](\"readystatechange\", {});\n    }\n  });\n  if ('withCredentials' in xhr || xhook.addWithCredentials) {\n    facade.withCredentials = false;\n  }\n  facade.status = 0;\n  _ref = COMMON_EVENTS.concat(UPLOAD_EVENTS);\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    event = _ref[_i];\n    facade[\"on\" + event] = null;\n  }\n  facade.open = function(method, url, async, user, pass) {\n    currentState = 0;\n    hasError = false;\n    transiting = false;\n    request.headers = {};\n    request.headerNames = {};\n    request.status = 0;\n    response = {};\n    response.headers = {};\n    request.method = method;\n    request.url = url;\n    request.async = async !== false;\n    request.user = user;\n    request.pass = pass;\n    setReadyState(1);\n  };\n  facade.send = function(body) {\n    var hooks, k, modk, process, send, _j, _len1, _ref1;\n    _ref1 = ['type', 'timeout', 'withCredentials'];\n    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n      k = _ref1[_j];\n      modk = k === \"type\" ? \"responseType\" : k;\n      if (modk in facade) {\n        request[k] = facade[modk];\n      }\n    }\n    request.body = body;\n    send = function() {\n      var header, value, _k, _len2, _ref2, _ref3;\n      proxyEvents(COMMON_EVENTS, xhr, facade);\n      if (facade.upload) {\n        proxyEvents(COMMON_EVENTS.concat(UPLOAD_EVENTS), xhr.upload, facade.upload);\n      }\n      transiting = true;\n      xhr.open(request.method, request.url, request.async, request.user, request.pass);\n      _ref2 = ['type', 'timeout', 'withCredentials'];\n      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n        k = _ref2[_k];\n        modk = k === \"type\" ? \"responseType\" : k;\n        if (k in request) {\n          xhr[modk] = request[k];\n        }\n      }\n      _ref3 = request.headers;\n      for (header in _ref3) {\n        value = _ref3[header];\n        if (header) {\n          xhr.setRequestHeader(header, value);\n        }\n      }\n      if (request.body instanceof XHookFormData) {\n        request.body = request.body.fd;\n      }\n      xhr.send(request.body);\n    };\n    hooks = xhook.listeners(BEFORE);\n    process = function() {\n      var done, hook;\n      if (!hooks.length) {\n        return send();\n      }\n      done = function(userResponse) {\n        if (typeof userResponse === 'object' && (typeof userResponse.status === 'number' || typeof response.status === 'number')) {\n          mergeObjects(userResponse, response);\n          if (__indexOf.call(userResponse, 'data') < 0) {\n            userResponse.data = userResponse.response || userResponse.text;\n          }\n          setReadyState(4);\n          return;\n        }\n        process();\n      };\n      done.head = function(userResponse) {\n        mergeObjects(userResponse, response);\n        return setReadyState(2);\n      };\n      done.progress = function(userResponse) {\n        mergeObjects(userResponse, response);\n        return setReadyState(3);\n      };\n      hook = hooks.shift();\n      if (hook.length === 1) {\n        return done(hook(request));\n      } else if (hook.length === 2 && request.async) {\n        return hook(request, done);\n      } else {\n        return done();\n      }\n    };\n    process();\n  };\n  facade.abort = function() {\n    status = ABORTED;\n    if (transiting) {\n      xhr.abort();\n    } else {\n      facade[FIRE]('abort', {});\n    }\n  };\n  facade.setRequestHeader = function(header, value) {\n    var lName, name;\n    lName = header != null ? header.toLowerCase() : void 0;\n    name = request.headerNames[lName] = request.headerNames[lName] || header;\n    if (request.headers[name]) {\n      value = request.headers[name] + ', ' + value;\n    }\n    request.headers[name] = value;\n  };\n  facade.getResponseHeader = function(header) {\n    var name;\n    name = header != null ? header.toLowerCase() : void 0;\n    return nullify(response.headers[name]);\n  };\n  facade.getAllResponseHeaders = function() {\n    return nullify(convertHeaders(response.headers));\n  };\n  if (xhr.overrideMimeType) {\n    facade.overrideMimeType = function() {\n      return xhr.overrideMimeType.apply(xhr, arguments);\n    };\n  }\n  if (xhr.upload) {\n    facade.upload = request.upload = EventEmitter();\n  }\n  facade.UNSENT = 0;\n  facade.OPENED = 1;\n  facade.HEADERS_RECEIVED = 2;\n  facade.LOADING = 3;\n  facade.DONE = 4;\n  facade.response = '';\n  facade.responseText = '';\n  facade.responseXML = null;\n  facade.readyState = 0;\n  facade.statusText = '';\n  return facade;\n};\n\nif (typeof WINDOW[FETCH] === \"function\") {\n  NativeFetch = WINDOW[FETCH];\n  xhook[FETCH] = NativeFetch;\n  XHookFetchRequest = WINDOW[FETCH] = function(url, options) {\n    var afterHooks, beforeHooks, request;\n    if (options == null) {\n      options = {\n        headers: {}\n      };\n    }\n    options.url = url;\n    request = null;\n    beforeHooks = xhook.listeners(BEFORE);\n    afterHooks = xhook.listeners(AFTER);\n    return new Promise(function(resolve, reject) {\n      var done, getRequest, processAfter, processBefore, send;\n      getRequest = function() {\n        if (options.body instanceof XHookFormData) {\n          options.body = options.body.fd;\n        }\n        if (options.headers) {\n          options.headers = new Headers(options.headers);\n        }\n        if (!request) {\n          request = new Request(options.url, options);\n        }\n        return mergeObjects(options, request);\n      };\n      processAfter = function(response) {\n        var hook;\n        if (!afterHooks.length) {\n          return resolve(response);\n        }\n        hook = afterHooks.shift();\n        if (hook.length === 2) {\n          hook(getRequest(), response);\n          return processAfter(response);\n        } else if (hook.length === 3) {\n          return hook(getRequest(), response, processAfter);\n        } else {\n          return processAfter(response);\n        }\n      };\n      done = function(userResponse) {\n        var response;\n        if (userResponse !== void 0) {\n          response = new Response(userResponse.body || userResponse.text, userResponse);\n          resolve(response);\n          processAfter(response);\n          return;\n        }\n        processBefore();\n      };\n      processBefore = function() {\n        var hook;\n        if (!beforeHooks.length) {\n          send();\n          return;\n        }\n        hook = beforeHooks.shift();\n        if (hook.length === 1) {\n          return done(hook(options));\n        } else if (hook.length === 2) {\n          return hook(getRequest(), done);\n        }\n      };\n      send = function() {\n        return NativeFetch(getRequest()).then(function(response) {\n          return processAfter(response);\n        })[\"catch\"](function(err) {\n          processAfter(err);\n          return reject(err);\n        });\n      };\n      processBefore();\n    });\n  };\n}\n\nXHookHttpRequest.UNSENT = 0;\n\nXHookHttpRequest.OPENED = 1;\n\nXHookHttpRequest.HEADERS_RECEIVED = 2;\n\nXHookHttpRequest.LOADING = 3;\n\nXHookHttpRequest.DONE = 4;\n\nif (typeof define === \"function\" && define.amd) {\n  define(\"xhook\", [], function() {\n    return xhook;\n  });\n} else if (typeof module === \"object\" && module.exports) {\n  module.exports = {\n    xhook: xhook\n  };\n} else if (WINDOW) {\n  WINDOW.xhook = xhook;\n}\n\n}.call(this));\n","const config = o => {\n  if (o) {\n    if (o.masters) {\n      config.masters(o.masters);\n    }\n    if (o.slaves) {\n      config.slaves(o.slaves);\n    }\n  }\n};\n\n//default config\nconfig.debug = false;\nconfig.timeout = 15e3;\nconfig.cookies = {\n  master: \"Master-Cookie\",\n  slave: \"Slave-Cookie\"\n};\n//extras are also attached to config\n\nmodule.exports = config;\n","const xhook = require(\"xhook\").xhook;\n\nconst config = require(\"./config\");\n\nexports.COMPAT_VERSION = \"V1\";\n\nconst { location } = window;\nexports.currentOrigin = location.protocol + \"//\" + location.host;\nconfig.origin = exports.currentOrigin;\n\n//emits 'warn' 'log' and 'timeout' events\nexports.globalEmitter = xhook.EventEmitter(true);\n\nexports.console = window.console || {};\n\nlet counter = 0;\nexports.guid = () => {\n  if (counter >= 1e6) counter = 0;\n  let n = String(++counter);\n  while (n.length < 6) n = \"0\" + n;\n  return `xdomain-${n}`;\n};\n\nexports.slice = (o, n) => {\n  return Array.prototype.slice.call(o, n);\n};\n\n//create a logger of type\nconst newLogger = type => {\n  return msg => {\n    msg = `xdomain (${exports.currentOrigin}): ${msg}`;\n    //emit event\n    exports.globalEmitter.fire(type, msg);\n    //skip logs when debug isnt enabled\n    if (type === \"log\" && !config.debug) {\n      return;\n    }\n    //user provided log/warn functions\n    if (type in config) {\n      config[type](msg);\n      //fallback console\n    } else if (type in console) {\n      console[type](msg);\n      //fallbackback alert\n    } else if (type === \"warn\") {\n      alert(msg);\n    }\n  };\n};\n\nexports.log = newLogger(\"log\");\nexports.warn = newLogger(\"warn\");\n\nexports.instOf = (obj, global) => {\n  return global in window && obj instanceof window[global];\n};\n\n//absolute url parser (relative urls aren't crossdomain)\nexports.parseUrl = url => {\n  if (/^((https?:)?\\/\\/[^\\/\\?]+)(\\/.*)?/.test(url)) {\n    return {\n      origin: (RegExp.$2 ? \"\" : location.protocol) + RegExp.$1,\n      path: RegExp.$3\n    };\n  } else {\n    exports.log(`failed to parse absolute url: ${url}`);\n    return null;\n  }\n};\nconfig.parseUrl = exports.parseUrl;\n\nexports.toRegExp = obj => {\n  if (obj instanceof RegExp) {\n    return obj;\n  }\n  const str = obj\n    .toString()\n    .replace(/\\W/g, str => `\\\\${str}`)\n    .replace(/\\\\\\*/g, \".*\");\n  return new RegExp(`^${str}$`);\n};\n\n//strip functions and objects from an object\nexports.strip = src => {\n  const dst = {};\n  for (let k in src) {\n    if (k === \"returnValue\") {\n      continue;\n    }\n    const v = src[k];\n    const t = typeof v;\n    if (t !== \"function\" && t !== \"object\") {\n      dst[k] = v;\n    }\n  }\n  return dst;\n};\n","const xhook = require(\"xhook\").xhook;\nconst config = require(\"./config\");\nconst {\n  log,\n  warn,\n  toRegExp,\n  strip,\n  parseUrl,\n  COMPAT_VERSION\n} = require(\"./util\");\n\n//when you add masters, this node\n//enables slave listeners\n\nlet enabled = false;\nlet masters = {};\n\nexports.addMasters = config => {\n  //validate iframe\n  if (window === window.parent) {\n    warn(\"slaves must be in an iframe\");\n    return;\n  }\n  //enable slave handler\n  if (!enabled) {\n    enabled = true;\n    log(\"now handling incoming sockets...\");\n    window.parent.postMessage(`XDPING_${COMPAT_VERSION}`, \"*\");\n  }\n  //white-list the provided set of masters\n  for (let origin in config) {\n    let path = config[origin];\n    if (origin === \"file://\" && path !== \"*\") {\n      warn(`file protocol only supports the * path`);\n      path = \"*\";\n    }\n    log(`adding master: ${origin}`);\n    masters[origin] = path;\n  }\n};\n\nconfig.masters = exports.addMasters;\n\nexports.handleSocket = (origin, socket) => {\n  if (!enabled) {\n    return;\n  }\n  //null means no origin can be determined,\n  //this is true for file:// and data:// URIs.\n  //html data:// URI are now blocked, they can\n  //only be copy-and-pasted into the URL bar.\n  if (origin === \"null\" || origin === \"file:\") {\n    origin = \"file://\";\n  }\n  log(`handle socket for \"${origin}\"`);\n  let pathRegex = null;\n  for (let master in masters) {\n    const regex = masters[master];\n    try {\n      const masterRegex = toRegExp(master);\n      if (masterRegex.test(origin)) {\n        pathRegex = toRegExp(regex);\n        break;\n      }\n    } catch (error) {}\n  }\n  if (!pathRegex) {\n    warn(`blocked request from: '${origin}'`);\n    return;\n  }\n  socket.once(\"request\", function(req) {\n    log(`request: ${req.method} ${req.url}`);\n    const p = parseUrl(req.url);\n    if (!p || !pathRegex.test(p.path)) {\n      warn(`blocked request to path: '${p.path}' by regex: ${pathRegex}`);\n      socket.close();\n      return;\n    }\n    //perform real XHR here!\n    //pass results to the socket\n    const xhr = new XMLHttpRequest();\n    xhr.open(req.method, req.url);\n    xhr.addEventListener(\"*\", e => socket.emit(\"xhr-event\", e.type, strip(e)));\n    if (xhr.upload) {\n      xhr.upload.addEventListener(\"*\", e =>\n        socket.emit(\"xhr-upload-event\", e.type, strip(e))\n      );\n    }\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState !== 4) {\n        return;\n      }\n      //extract properties\n      const resp = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        data: xhr.response,\n        headers: xhook.headers(xhr.getAllResponseHeaders())\n      };\n      try {\n        resp.text = xhr.responseText;\n      } catch (error1) {}\n      // XML over postMessage not supported\n      // try resp.xml = xhr.responseXML\n      return socket.emit(\"response\", resp);\n    };\n    //allow aborts from the facade\n    socket.once(\"abort\", () => xhr.abort());\n    // document.cookie (Cookie header) can't be set inside an iframe\n    // as many browsers have 3rd party cookies disabled. slaveCookie\n    // contains the 'xdomain.cookie.slave' string set on the master.\n    if (req.withCredentials) {\n      xhr.withCredentials = true;\n      if (req.slaveCookie) {\n        req.headers[req.slaveCookie] = document.cookie;\n      }\n    }\n    if (req.timeout) {\n      xhr.timeout = req.timeout;\n    }\n    if (req.type) {\n      xhr.responseType = req.type;\n    }\n    for (let k in req.headers) {\n      const v = req.headers[k];\n      xhr.setRequestHeader(k, v);\n    }\n    //deserialize FormData\n    if (req.body instanceof Array && req.body[0] === \"XD_FD\") {\n      const fd = new xhook.FormData();\n      const entries = req.body[1];\n      Array.from(entries).forEach(arg => {\n        //deserialize blobs from arraybuffs\n        //[0:marker, 1:real-args, 2:arraybuffer, 3:type]\n        if (args[0] === \"XD_BLOB\" && args.length === 4) {\n          const blob = new Blob([args[2]], { type: args[3] });\n          args = args[1];\n          args[1] = blob;\n        }\n        fd.append.apply(fd, args);\n      });\n      req.body = fd;\n    }\n    //fire off request\n    xhr.send(req.body || null);\n  });\n  log(`slave listening for requests on socket: ${socket.id}`);\n};\n","const xhook = require(\"xhook\").xhook;\n\nconst config = require(\"./config\");\nconst { globalEmitter, log, warn, COMPAT_VERSION } = require(\"./util\");\nconst { handleSocket } = require(\"./slave\");\n\n//constants\nconst CHECK_STRING = \"XD_CHECK\";\nconst CHECK_INTERVAL = 100;\n//state\nconst sockets = {};\nlet jsonEncode = true;\n\n//a 'sock' is a two-way event-emitter,\n//each side listens for messages with on()\n//and the other side sends messages with emit()\nexports.createSocket = (id, frame) => {\n  let ready = false;\n  const socket = xhook.EventEmitter(true);\n  sockets[id] = socket;\n  socket.id = id;\n  socket.once(\"close\", function() {\n    socket.destroy();\n    socket.close();\n  });\n  const pendingEmits = [];\n  socket.emit = function(...args) {\n    const extra = typeof args[1] === \"string\" ? ` -> ${args[1]}` : \"\";\n    log(`send socket: ${id}: ${args[0]}${extra}`);\n    args.unshift(id);\n    if (ready) {\n      emit(args);\n    } else {\n      pendingEmits.push(args);\n    }\n  };\n  var emit = function(args) {\n    //convert to string when necessary\n    if (jsonEncode) {\n      args = JSON.stringify(args);\n    }\n    //send!\n    frame.postMessage(args, \"*\");\n  };\n\n  socket.close = function() {\n    socket.emit(\"close\");\n    log(`close socket: ${id}`);\n    sockets[id] = null;\n  };\n\n  socket.once(CHECK_STRING, function(obj) {\n    jsonEncode = typeof obj === \"string\";\n    ready = socket.ready = true;\n    socket.emit(\"ready\");\n    log(`ready socket: ${id} (emit #${pendingEmits.length} pending)`);\n    while (pendingEmits.length) {\n      emit(pendingEmits.shift());\n    }\n  });\n\n  //start checking connectivitiy\n  let checks = 0;\n  var check = () => {\n    // send test message NO ENCODING\n    frame.postMessage([id, CHECK_STRING, {}], \"*\");\n    if (ready) {\n      return;\n    }\n    if (checks++ >= config.timeout / CHECK_INTERVAL) {\n      warn(\"Timeout waiting on iframe socket\");\n      globalEmitter.fire(\"timeout\");\n      socket.fire(\"abort\"); //self-emit \"abort\"\n    } else {\n      log(`check again in ${CHECK_INTERVAL}ms...`);\n      setTimeout(check, CHECK_INTERVAL);\n    }\n  };\n  setTimeout(check);\n\n  log(`new socket: ${id}`);\n  return socket;\n};\n\n//ONE WINDOW LISTENER!\n//double purpose:\n//  creates new sockets by passing incoming events to the 'handler'\n//  passes events to existing sockets (created by connect or by the server)\nexports.initialise = () => {\n  const handle = e => {\n    let d = e.data;\n    //return if not a json string\n    if (typeof d === \"string\") {\n      //only old versions of xdomain send XPINGs...\n      if (/^XDPING(_(V\\d+))?$/.test(d) && RegExp.$2 !== COMPAT_VERSION) {\n        return warn(\n          \"your master is not compatible with your slave, check your xdomain.js version\"\n        );\n        //IE will \"toString()\" the array, this reverses that action\n      } else if (/^xdomain-/.test(d)) {\n        d = d.split(\",\");\n        //this browser must json encode postmessages\n      } else if (jsonEncode) {\n        try {\n          d = JSON.parse(d);\n        } catch (error) {\n          return;\n        }\n      }\n    }\n    //return if not an array\n    if (!(d instanceof Array)) {\n      return;\n    }\n    //return unless lead by an xdomain id\n    const id = d.shift();\n    if (!/^xdomain-/.test(id)) {\n      return;\n    }\n    //finally, create/get socket\n    let socket = sockets[id];\n    //closed\n    if (socket === null) {\n      return;\n    }\n    //needs creation\n    if (socket === undefined) {\n      //send unsolicited requests to the listening server\n      if (!handleSocket) {\n        return;\n      }\n      socket = exports.createSocket(id, e.source);\n      handleSocket(e.origin, socket);\n    }\n    const extra = typeof d[1] === \"string\" ? ` -> ${d[1]}` : \"\";\n    log(`receive socket: ${id}: ${d[0]}${extra}`);\n    //emit data\n    socket.fire.apply(socket, d);\n  };\n  if (document.addEventListener) {\n    return window.addEventListener(\"message\", handle);\n  } else {\n    return window.attachEvent(\"onmessage\", handle);\n  }\n};\n","const xhook = require(\"xhook\").xhook;\nconst config = require(\"./config\");\nconst {\n  currentOrigin,\n  log,\n  warn,\n  parseUrl,\n  guid,\n  strip,\n  instOf\n} = require(\"./util\");\nconst socketlib = require(\"./socket\");\nconst createSocket = socketlib.createSocket;\n\n//when you add slaves, this node\n//enables master listeners\n\nlet enabled = false;\nlet slaves = {};\n\nexports.addSlaves = newSlaves => {\n  //register master xhook handler\n  if (!enabled) {\n    enabled = true;\n    //unless already set, add withCredentials to xhrs to trick jquery\n    //in older browsers into thinking cors is allowed\n    if (!(\"addWithCredentials\" in xhook)) {\n      xhook.addWithCredentials = true;\n    }\n    //hook XHR calls\n    xhook.before(beforeXHR);\n  }\n  //include the provided set of slave\n  for (let origin in newSlaves) {\n    const path = newSlaves[origin];\n    log(`adding slave: ${origin}`);\n    slaves[origin] = path;\n  }\n};\n\nconfig.slaves = exports.addSlaves;\n\nconst beforeXHR = function(request, callback) {\n  //allow unless we have a slave domain\n  const p = parseUrl(request.url);\n  if (!p || p.origin === currentOrigin) {\n    callback();\n    return;\n  }\n  if (!slaves[p.origin]) {\n    if (p) {\n      log(`no slave matching: '${p.origin}'`);\n    }\n    callback();\n    return;\n  }\n  log(`proxying request to slave: '${p.origin}'`);\n  if (request.async === false) {\n    warn(\"sync not supported because postmessage is async\");\n    callback();\n    return;\n  }\n  //get or insert frame\n  const frame = getFrame(p.origin, slaves[p.origin]);\n  //connect to slave\n  const socket = createSocket(guid(), frame);\n  //queue callback\n  socket.on(\"response\", function(resp) {\n    callback(resp);\n    socket.close();\n  });\n  //user wants to abort\n  request.xhr.addEventListener(\"abort\", () => socket.emit(\"abort\"));\n  //kick off\n  if (socket.ready) {\n    handleRequest(request, socket);\n  } else {\n    socket.once(\"ready\", () => handleRequest(request, socket));\n  }\n};\n\nconst frames = {};\nconst getFrame = function(origin, proxyPath) {\n  //cache origin\n  if (frames[origin]) {\n    return frames[origin];\n  }\n  const frame = document.createElement(\"iframe\");\n  frame.id = frame.name = guid();\n  log(`creating iframe ${frame.id}`);\n  frame.src = `${origin}${proxyPath}`;\n  frame.setAttribute(\"style\", \"display:none;\");\n  document.body.appendChild(frame);\n  return (frames[origin] = frame.contentWindow);\n};\n\nconst convertToArrayBuffer = function(args, done) {\n  const [name, obj] = Array.from(args);\n  const isBlob = instOf(obj, \"Blob\");\n  const isFile = instOf(obj, \"File\");\n  if (!isBlob && !isFile) {\n    return 0;\n  }\n  const reader = new FileReader();\n  reader.onload = function() {\n    // clear value\n    args[1] = null;\n    // formdata.append(name, value, **filename**)\n    if (isFile) {\n      args[2] = obj.name;\n    }\n    return done([\"XD_BLOB\", args, this.result, obj.type]);\n  };\n  reader.readAsArrayBuffer(obj);\n  return 1;\n};\n\n//this FormData is actually XHooks custom FormData `fd`,\n//which exposes all `entries` added, where each entry\n//is the arguments object\nconst convertFormData = function(entries, send) {\n  //expand FileList -> [File, File, File]\n  entries.forEach(function(args, i) {\n    const [name, value] = Array.from(args);\n    if (instOf(value, \"FileList\")) {\n      entries.splice(i, 1);\n      Array.from(value).forEach(file => {\n        entries.splice(i, 0, [name, file]);\n      });\n    }\n  });\n  //basically: async.parallel([filter:files], send)\n  let c = 0;\n  entries.forEach(function(args, i) {\n    c += convertToArrayBuffer(args, function(newargs) {\n      entries[i] = newargs;\n      if (--c === 0) {\n        send();\n      }\n    });\n  });\n  if (c === 0) {\n    send();\n  }\n};\n\nconst handleRequest = function(request, socket) {\n  socket.on(\"xhr-event\", function() {\n    return request.xhr.dispatchEvent.apply(null, arguments);\n  });\n  socket.on(\"xhr-upload-event\", function() {\n    return request.xhr.upload.dispatchEvent.apply(null, arguments);\n  });\n\n  const obj = strip(request);\n  obj.headers = request.headers;\n  //add master cookie\n  if (request.withCredentials) {\n    if (config.cookies.master) {\n      obj.headers[config.cookies.master] = document.cookie;\n    }\n    obj.slaveCookie = config.cookies.slave;\n  }\n\n  const send = () => socket.emit(\"request\", obj);\n\n  if (request.body) {\n    obj.body = request.body;\n    //async serialize formdata\n    if (instOf(obj.body, \"FormData\")) {\n      const { entries } = obj.body;\n      obj.body = [\"XD_FD\", entries];\n      convertFormData(entries, send);\n      return;\n    }\n  }\n  send();\n};\n","const config = require(\"./config\");\nconst { parseUrl } = require(\"./util\");\nconst { addSlaves } = require(\"./master\");\nconst { addMasters } = require(\"./slave\");\nconst { document } = window;\n//auto init using attributes\nexports.initialise = function() {\n  //attribute handlers\n  const attrs = {\n    debug(value) {\n      config.debug = value !== \"false\";\n    },\n    slave(value) {\n      const p = parseUrl(value);\n      if (!p) {\n        return;\n      }\n      const s = {};\n      s[p.origin] = p.path;\n      addSlaves(s);\n    },\n    master(value) {\n      let p;\n      if (value === \"*\") {\n        p = { origin: \"*\", path: \"*\" };\n      } else if (value === \"file://*\") {\n        p = { origin: \"file://\", path: \"*\" };\n      } else {\n        p = parseUrl(value);\n      }\n      if (!p) {\n        return;\n      }\n      const m = {};\n      m[p.origin] = p.path.replace(/^\\//, \"\") ? p.path : \"*\";\n      addMasters(m);\n    }\n  };\n  //find all script tags referencing 'xdomain' and then\n  //find all attributes with handlers registered\n  Array.from(document.getElementsByTagName(\"script\")).forEach(script => {\n    if (!/xdomain/.test(script.src)) {\n      return;\n    }\n    [\"\", \"data-\"].forEach(prefix => {\n      for (let k in attrs) {\n        const value = script.getAttribute(prefix + k);\n        if (value) {\n          const fn = attrs[k];\n          fn(value);\n        }\n      }\n    });\n  });\n};\n","\"use strict\";\n\n//feature detect\nconst { warn } = require(\"./lib/util\");\n[\"postMessage\", \"JSON\"].forEach(feature => {\n  if (!window[feature]) {\n    warn(`requires '${feature}' and this browser does not support it`);\n  }\n});\n\n//init socket (post message mini-library)\nconst socket = require(\"./lib/socket\");\nsocket.initialise();\n\n//initialise script (load config from script tag)\nconst script = require(\"./lib/script\");\nscript.initialise();\n\n//public api\nconst initialise = require(\"./lib/config\");\n//config is also the primary intialise function\nmodule.exports = initialise;\n","if (!Array.from) {\n  Array.from = require(\"array.from\").getPolyfill();\n}\nconst xhook = require(\"xhook\").xhook;\nwindow.xhook = xhook;\nconst xdomain = require(\"./index\");\nwindow.xdomain = xdomain;\n"]}